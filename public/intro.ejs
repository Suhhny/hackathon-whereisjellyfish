<!doctype html>
<html lang="en">
    <head>
      <meta http-equiv="Page-Enter" content="RevealTrans(Duration=4,Transition=4)">
        <meta charset="utf-8">
        <title>Whereisjellyfish</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="Site Description Here">
        <link href="/css/bootstrap.css" rel="stylesheet" type="text/css" media="all" />
        <link href="/css/stack-interface.css" rel="stylesheet" type="text/css" media="all" />
        <link href="/css/socicon.css" rel="stylesheet" type="text/css" media="all" />
        <link href="/css/lightbox.min.css" rel="stylesheet" type="text/css" media="all" />
        <link href="/css/flickity.css" rel="stylesheet" type="text/css" media="all" />
        <link href="/css/iconsmind.css" rel="stylesheet" type="text/css" media="all" />
        <link href="/css/jquery.steps.css" rel="stylesheet" type="text/css" media="all" />
        <link href="/css/theme.css" rel="stylesheet" type="text/css" media="all" />
        <link href="/css/custom.css" rel="stylesheet" type="text/css" media="all" />
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:200,300,400,400i,500,600,700%7CMerriweather:300,300i" rel="stylesheet">
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <link href="/dist/css/datepicker.min.css" rel="stylesheet" type="text/css">
        <script src="/dist/js/datepicker.min.js"></script>

        <!-- Include English language -->
        <script src="/dist/js/i18n/datepicker.en.js"></script>

        <style>
          @import url(//cdn.rawgit.com/young-ha/webfont-archive/master/css/NanumGothic.css);
          h4 { font-family: 'NanumGothic', cursive; }
        </style>

        <script>
        var click = 1;
        function stack(){
          click++;
          if(click>14){
            click = 1;
          }else if(click>10) {
            document.getElementById("haepari").src="img/green.gif"
          }else if(click>5){
          document.getElementById("haepari").src="img/blue.gif"
          }else{
          document.getElementById("haepari").src="img/pink.gif"
          }
        }
        </script>

        <script>
        $(document).ready(function(){
                $("#div1").fadeIn();
        });
        </script>

    </head>

    <body class=" " style= "overflow: hidden">  <!--class=" "-->
        <a id="start"></a>
        <div class="nav-container ">
            <div class="bar bar--sm visible-xs">
                <div class="container">
                    <div class="row">
                        <div class="col-xs-3 col-sm-2">
                            <a href="index.html">
                                <img class="logo logo-dark" alt="logo" src="img/logo-dark.png" />
                                <img class="logo logo-light" alt="logo" src="img/logo-light.png" />
                            </a>
                        </div>
                        <div class="col-xs-9 col-sm-10 text-right">
                            <a href="#" class="hamburger-toggle" data-toggle-class="#menu1;hidden-xs">
                                <i class="icon icon--sm stack-interface stack-menu"></i>
                            </a>
                        </div>
                    </div>
                    <!--end of row-->
                </div>
                <!--end of container-->
            </div>
            <!--end bar-->
        </div>
        <div id="div1" style = "display:none;" class="main-container">
            <section class="cover space--lg unpad--bottom bg--secondary switchable" style = "padding-bottom: 300px; padding-top: 100px;">
                <div class="container">
                    <div class="row" style="height: 500px;">
                        <div class="col-sm-6 text-center" >
                            <div class="mt--2">
                                <h1 style="font-size: 50px; text-shadow: 3px 3px 3px grey"><strong>¿WHERE iS JELLYFISH?<strong></h1>
                                <p style="margin-bottom: 10px; color: #ea6565;">휴가기간과 피서지를 골라주세요. 해파리 출현 정보를 알려드립니다.</p>
                                <div id="mydatepicker" style="margin-left: 150px;"></div>
                                <a id="confirmButton" class="btn btn--primary type--uppercase" onClick = "datedatedate();" style="margin-top: 10px;">
                                    <span class="btn__text">Confirm</span></a>
                                <div id="blank">
                                </div>

                            </div>
                        </div>

                        <div class="col-sm-6 col-md-5" style="padding-left: 0px; padding-right: 0px;" onClick ="stack()">

                            <img id="haepari" alt="Image" height="600" width="650" src="https://thumbs.gfycat.com/QualifiedActiveIvorybilledwoodpecker-max-1mb.gif" />
                        </div>
                    </div>
                    <!--end of row-->
                </div>
                <!--end of container-->
            </section>
        </div>
        <!--<div class="loader"></div>-->
        <div style="display: none">
          <form method="post" action="/output" id="change">
            <input id="1" name="startDate" />
            <input id="2" name="endDate" />
            <input id="3" name="place" />
          </form>
        </div>
        <a class="back-to-top inner-link" href="#start" data-scroll-class="100vh:active">
            <i class="stack-interface stack-up-open-big"></i>
        </a>
        <script src = "https://cdnjs.cloudflare.com/ajax/libs/axios/0.18.0/axios.js"></script>
        <script>

        //Initialization
        $('#mydatepicker').datepicker({
            language: {
              inline: true,
              days: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],
              daysShort: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],
              daysMin: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],
              months: ['January','February','March','April','May','June', 'July','August','September','October','November','December'],
              monthsShort: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
              today: 'Today',
              clear: 'Clear',
              dateFormat: 'yyyy/mm/dd',
              timeFormat: 'hh:ii aa'
            },
            dateFormat: "yyyy/mm/dd",
            firstDay: 0,
            range: true,
        })

        // Access instance of plugin
      $('#mydatepicker').data('datepicker')

      var StartMont, StartDay, EndMonth, EndDay;

      var datedatedate = function(){
        if($('#mydatepicker').datepicker().data('datepicker').selectedDates[0] !== undefined && $('#mydatepicker').datepicker().data('datepicker').selectedDates[1] !== undefined){
          StartMonth = $('#mydatepicker').datepicker().data('datepicker').selectedDates[0].getMonth() + 1;
          StartDay = $('#mydatepicker').datepicker().data('datepicker').selectedDates[0].getDate();
          EndMonth = $('#mydatepicker').datepicker().data('datepicker').selectedDates[1].getMonth() + 1;
          EndDay = $('#mydatepicker').datepicker().data('datepicker').selectedDates[1].getDate();

          document.getElementById('mydatepicker').remove();
          document.getElementById('confirmButton').remove();

          var nd = document.createElement("div");
          var node = document.createElement("div");
          node.setAttribute("id", "map");
          node.setAttribute("class", "imagebg border--round");
          node.style.width = "100%";
          node.style.height = "350px";

          nd.appendChild(node);
          document.getElementById("blank").appendChild(nd);
          map();
          
        }else {
            alert("날짜 2개를 선택해 주세요.");
        }
          var jbBtn = document.createElement( 'button' );
          var jbBtnText = document.createTextNode( '날짜 다시 고르기' );
          jbBtn.appendChild( jbBtnText );
          document.getElementById("blank").appendChild( jbBtn );
          jbBtn.setAttribute("class", "btn btn--primary type--uppercase");
          jbBtn.style.width = "100px";
          jbBtn.style.margin = "10px";
          jbBtn.setAttribute("onClick", "location.reload()");
      }

        // var datedatedate = function(){
        //   axios.post('/inputdata', {
        //     startD: $('#mydatepicker').datepicker().data('datepicker').selectedDates[0],
        //     endD: $('#mydatepicker').datepicker().data('datepicker').selectedDates[1]
        //   })
        //     .then(function(res){
        //     console.log(res);
        //     })
        // }

        // var Start = ($('#mydatepicker').datepicker().data('datepicker').selectedDates[0]).split('-').split('T');
        // var StartDay = new Date(Start[0], Start[1], Start[2] + 1);
        //
        // var End = ($('#mydatepicker').datepicker().data('datepicker').selectedDates[1]).split('-').split('T');
        // var EndDay = new Date(End[0], End[1], End[2] + 1);
        //
        // var datedatedate = function(){
        //   axios.post('/inputdata', {
        //     startD: StartDay,
        //     endD: EndDay
        //   })
        //     .then(function(res){
        //     console.log(res);
        //     })
        // }

        </script>
        <script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=b901f9a12a2863d80a235c0fe1d2137a"></script>
        <script>
          function map(){
            var mapContainer = document.getElementById('map'), // 지도를 표시할 div
              mapOption = {
              center: new daum.maps.LatLng(36.450701, 127.570667), // 지도의 중심좌표
              level: 13 // 지도의 확대 레벨
          };

            var map = new daum.maps.Map(mapContainer, mapOption); // 지도를 생성합니다

            // 마커를 표시할 위치와 내용을 가지고 있는 객체 배열입니다
            var positions = [
              {
                  content: '<div style = "color: #FF1493; font-family: NanumGothic; font size: 150%; margin: 0px 0px 0px 35px;" >을왕 해수욕장</div>',
                  latlng: new daum.maps.LatLng(37.446100, 126.372700),
                  sea: "서해"
              },
              {
                  content: '<div style = "color: #FF1493; font-family: NanumGothic; font size: 150%; margin: 0px 0px 0px 27px;" >제부도 해수욕장</div>',
                  latlng: new daum.maps.LatLng(37.165595, 126.617129),
                  sea: "서해"
              },
              {
                  content: '<div style = "color: #FF1493; font-family: NanumGothic; font size: 150%; margin: 0px 0px 0px 27px;">난지도 해수욕장</div>',
                  latlng: new daum.maps.LatLng(37.047281, 126.423354),
                  sea: "서해"
              },
              {
                  content: '<div style = "color: #FF1493; font-family: NanumGothic; font size: 150%; margin: 0px 0px 0px 35px;">꽃지 해수욕장</div>',//노무라입깃
                  latlng: new daum.maps.LatLng(36.496613, 126.335143),
                  sea: "서해"
              },
              {
                  content: '<div style = "color: #FF1493; font-family: NanumGothic; font size: 150%; margin: 0px 0px 0px 35px;">안면 해수욕장</div>',//노무라입깃
                  latlng: new daum.maps.LatLng(36.549421, 126.328312),
                  sea: "서해"
              },
              {
                  content: '<div style = "color: #FF1493; font-family: NanumGothic; font size: 150%; margin: 0px 0px 0px 35px;">대천 해수욕장</div>',
                  latlng: new daum.maps.LatLng(36.305406, 126.515796),
                  sea: "서해"
              },
              {
                  content: '<div style = "color: #FF1493; font-family: NanumGothic; font size: 150%; margin: 0px 0px 0px 27px;">무창포 해수욕장</div>',
                  latlng: new daum.maps.LatLng(36.245938, 126.536757),
                  sea: "서해"
              },
              {
                  content: '<div style = "color: #FF1493; font-family: NanumGothic; font size: 150%; margin: 0px 0px 0px 27px;">춘장대 해수욕장</div>',
                  latlng: new daum.maps.LatLng(36.163881, 126.523117),
                  sea: "서해"
              },
              {
                  content: '<div style = "color: #FF1493; font-family: NanumGothic; font size: 150%; margin: 0px 0px 0px 27px;">선유도 해수욕장</div>',
                  latlng: new daum.maps.LatLng(35.816518, 126.410501),
                  sea: "서해"
              },
              {
                  content: '<div style = "color: #FF1493; font-family: NanumGothic; font size: 150%; margin: 0px 0px 0px 27px;">변산 해수욕장</div>',
                  latlng: new daum.maps.LatLng(35.679919, 126.530630),
                  sea: "서해"
              },
              {
                  content: '<div style = "color: #FF1493; font-family: NanumGothic; font size: 150%; margin: 0px 0px 0px 20px;">나로우주 해수욕장</div>',
                  latlng: new daum.maps.LatLng(34.467926, 127.468540),
                  sea: "남해"
              },
              {
                  content: '<div style = "color: #FF1493; font-family: NanumGothic; font size: 150%; margin: 0px 0px 0px 35px;">협재 해수욕장</div>',
                  latlng: new daum.maps.LatLng(33.393930, 126.239577),
                  sea: "제주"
              },
              {
                  content: '<div style = "color: #FF1493; font-family: NanumGothic; font size: 150%; margin: 0px 0px 0px 35px;">김녕 해수욕장</div>',
                  latlng: new daum.maps.LatLng(33.558054, 126.759707),
                  sea: "제주"
              },
              {
                  content: '<div style = "color: #FF1493; font-family: NanumGothic; font size: 150%; margin: 0px 0px 0px 27px;">만성리 해수욕장</div>',
                  latlng: new daum.maps.LatLng(34.775406, 127.745029),
                  sea: "남해"
              },
              {
                  content: '<div style = "color: #FF1493; font-family: NanumGothic; font size: 150%; margin: 0px 0px 0px 35px;">통영 해수욕장</div>',
                  latlng: new daum.maps.LatLng(34.824135, 128.439899),
                  sea: "남해"
              },
              {
                  content: '<div style = "color: #FF1493; font-family: NanumGothic; font size: 150%; margin: 0px 0px 0px 27px;">광안리 해수욕장</div>',
                  latlng: new daum.maps.LatLng(35.153113, 129.118681),
                  sea: ["남해, 동해"]
              },
              {
                  content: '<div style = "color: #FF1493; font-family: NanumGothic; font size: 150%; margin: 0px 0px 0px 27px;">해운대 해수욕장</div>',
                  latlng: new daum.maps.LatLng(35.158646, 129.160416),
                  sea: "남해, 동해"
              },
              {
                  content: '<div style = "color: #FF1493; font-family: NanumGothic; font size: 150%; margin: 0px 0px 0px 35px;">송정 해수욕장</div>',
                  latlng: new daum.maps.LatLng(35.178496, 129.199658),
                  sea: "남해"
              },
              {
                  content: '<div style = "color: #FF1493; font-family: NanumGothic; font size: 150%; margin: 0px 0px 0px 35px;">봉길 해수욕장</div>',
                  latlng: new daum.maps.LatLng(35.738989, 129.484253),
                  sea: "동해"
              },
              {
                  content: '<div style = "color: #FF1493; font-family: NanumGothic; font size: 150%; margin: 0px 0px 0px 27px;">구룡포 해수욕장</div>',
                  latlng: new daum.maps.LatLng(35.996663, 129.565922),
                  sea: "동해"
              },
              {
                  content: '<div style = "color: #FF1493; font-family: NanumGothic; font size: 150%; margin: 0px 0px 0px 27px;">영일대 해수욕장</div>',
                  latlng: new daum.maps.LatLng(36.056040, 129.377993),
                  sea: "동해"
              },
              {
                  content: '<div style = "color: #FF1493; font-family: NanumGothic; font size: 150%; margin: 0px 0px 0px 27px;">망양정 해수욕장</div>',
                  latlng: new daum.maps.LatLng(36.968742, 129.413061),
                  sea: "동해"
              },
              {
                  content: '<div style = "color: #FF1493; font-family: NanumGothic; font size: 150%; margin: 0px 0px 0px 35px;">망상 해수욕장</div>',
                  latlng: new daum.maps.LatLng(37.593567, 129.089979),
                  sea: "동해"
              },
              {
                  content: '<div style = "color: #FF1493; font-family: NanumGothic; font size: 150%; margin: 0px 0px 0px 35px;">경포 해수욕장</div>',
                  latlng: new daum.maps.LatLng(37.805298, 128.907883),
                  sea: "동해"
              },
              {
                  content: '<div style = "color: #FF1493; font-family: NanumGothic; font size: 150%; margin: 0px 0px 0px 35px;">속초 해수욕장</div>',
                  latlng: new daum.maps.LatLng(38.190421, 128.603437),
                  sea: "동해"
              }
            ],
            selectedMarker = null;


            for (var i = 0; i < positions.length; i ++) {
                var imageSrc = '/img/beach.png',
                    imageSize = new daum.maps.Size(45,45),
                    imageOption = {offset: new daum.maps.Point(10,30)};

                // 마커의 이미지정보를 가지고 있는 마커이미지를 생성합니다
                var markerImage = new daum.maps.MarkerImage(imageSrc, imageSize, imageOption)

                // 마커를 생성합니다
                var marker = new daum.maps.Marker({
                    map: map, // 마커를 표시할 지도
                    position: positions[i].latlng, // 마커의 위치
                    image: markerImage
                });

                // 마커에 표시할 인포윈도우를 생성합니다
                var infowindow = new daum.maps.InfoWindow({
                    content: positions[i].content // 인포윈도우에 표시할 내용


                });

                var data = {
                  data: positions[i].sea
                }


                // 마커에 mouseover 이벤트와 mouseout 이벤트를 등록합니다
                // 이벤트 리스너로는 클로저를 만들어 등록합니다
                // for문에서 클로저를 만들어 주지 않으면 마지막 마커에만 이벤트가 등록됩니다
                daum.maps.event.addListener(marker, 'mouseover', makeOverListener(map, marker, infowindow));
                daum.maps.event.addListener(marker, 'mouseout', makeOutListener(infowindow));
                daum.maps.event.addListener(marker, 'click', click(data.data));
            }

            // 인포윈도우를 표시하는 클로저를 만드는 함수입니다
            function makeOverListener(map, marker, infowindow) {
                return function() {
                    infowindow.open(map, marker);
                };
            }

            // 인포윈도우를 닫는 클로저를 만드는 함수입니다
            function makeOutListener(infowindow) {
                return function() {
                    infowindow.close();
                };
            }
            function click(data){
              return function(){

                // axios.post('/inputdata', {
                //   place: data,
                //   startDate: StartMonth < 10 ? '0' + String(StartMonth) + (String(StartDay) < 10 ? '0' + String(StartDay): String(StartDay)) : String(StartMonth) + (String(StartDay) < 10 ? '0' + String(StartDay): String(StartDay)),
                //   endDate: EndMonth < 10 ? '0' + String(EndMonth) + (String(EndDay) < 10 ? '0' + String(EndDay): String(EndDay)) : String(EndMonth) + (String(EndDay) < 10 ? '0' + String(EndDay): String(EndDay)),
                // }).
                // then(function(res){
                //   console.log(res)
                // });

                document.getElementById("1").value = StartMonth < 10 ? '0' + String(StartMonth) + (String(StartDay) < 10 ? '0' + String(StartDay): String(StartDay)) : String(StartMonth) + (String(StartDay) < 10 ? '0' + String(StartDay): String(StartDay));
                document.getElementById("2").value = EndMonth < 10 ? '0' + String(EndMonth) + (String(EndDay) < 10 ? '0' + String(EndDay): String(EndDay)) : String(EndMonth) + (String(EndDay) < 10 ? '0' + String(EndDay): String(EndDay));
                document.getElementById("3").value = data;
                document.getElementById("change").submit();

              }
            }
          }






        </script>
        <!-- <script src="/js/jquery-3.1.1.min.js"></script>
        <script src="/js/flickity.min.js"></script>
        <script src="/js/easypiechart.min.js"></script>
        <script src="/js/parallax.js"></script>
        <script src="/js/typed.min.js"></script>
        <script src="/js/datepicker.js"></script>
        <script src="/js/isotope.min.js"></script>
        <script src="/js/ytplayer.min.js"></script>
        <script src="/js/lightbox.min.js"></script>
        <script src="/js/granim.min.js"></script>
        <script src="/js/jquery.steps.min.js"></script>
        <script src="/js/countdown.min.js"></script>
        <script src="/js/twitterfetcher.min.js"></script>
        <script src="/js/spectragram.min.js"></script>
        <script src="/js/smooth-scroll.min.js"></script>
        <script src="/js/scripts.js"></script> -->
    </body>
</html>
